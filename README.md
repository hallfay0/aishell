# ğŸ¤– AI Shell - æ™ºèƒ½ç»ˆç«¯åŠ©æ‰‹

ä¸€ä¸ªåŸºäºGoè¯­è¨€å’ŒLangChainçš„æ™ºèƒ½ç»ˆç«¯åŠ©æ‰‹ï¼Œé›†æˆOpenAI GPTï¼Œå…·å¤‡è®°å¿†åŠŸèƒ½å’Œå¤šç§å®ç”¨å·¥å…·ï¼Œè®©å‘½ä»¤è¡Œæ“ä½œå˜å¾—æ›´åŠ æ™ºèƒ½å’Œé«˜æ•ˆã€‚

[![Go Version](https://img.shields.io/badge/Go-1.24+-blue.svg)](https://golang.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ§  æ™ºèƒ½å¯¹è¯
- **ä¸Šä¸‹æ–‡è®°å¿†**: åŸºäºæ»‘åŠ¨çª—å£çš„å¯¹è¯è®°å¿†ï¼Œè®°ä½æœ€è¿‘100è½®å¯¹è¯
- **ç¯å¢ƒæ„ŸçŸ¥**: è‡ªåŠ¨è¯†åˆ«æ“ä½œç³»ç»Ÿã€æ¶æ„ã€å½“å‰ç›®å½•ç­‰ç¯å¢ƒä¿¡æ¯
- **è‡ªç„¶è¯­è¨€äº¤äº’**: ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒAIæ™ºèƒ½é€‰æ‹©åˆé€‚çš„å·¥å…·

### ğŸ› ï¸ å¼ºå¤§å·¥å…·é›†
- **ğŸ”§ ç³»ç»Ÿå‘½ä»¤**: è·¨å¹³å°ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œï¼Œå®‰å…¨æ£€æŸ¥ï¼Œå±é™©å‘½ä»¤ç¡®è®¤
- **ğŸ“„ æ–‡ä»¶è¯»å–**: æŒ‰è¡Œå·èŒƒå›´è¯»å–æ–‡ä»¶å†…å®¹ï¼Œæ”¯æŒå¤§æ–‡ä»¶å¤„ç†
- **ğŸ“ æ–‡ä»¶å†™å…¥**: åˆ›å»ºå’Œç¼–è¾‘æ–‡æœ¬æ–‡ä»¶ï¼Œè‡ªåŠ¨åˆ›å»ºç›®å½•ç»“æ„
- **ğŸ§® æ•°å­¦è®¡ç®—**: å¤æ‚æ•°å­¦è¿ç®—å’Œæ•°æ®åˆ†æ
- **ğŸ” ç½‘ç»œæœç´¢**: é›†æˆSerpAPIçš„å®æ—¶ä¿¡æ¯æœç´¢ï¼ˆå¯é€‰ï¼‰

### ğŸ›ï¸ ç”¨æˆ·ä½“éªŒ
- **æ™ºèƒ½è¡¥å…¨**: Tabé”®è‡ªåŠ¨è¡¥å…¨ï¼Œæ”¯æŒå†å²å‘½ä»¤
- **å†å²è®°å½•**: â†‘â†“é”®æµè§ˆå†å²ï¼ŒCtrl+Ræœç´¢å†å²
- **è°ƒè¯•æ¨¡å¼**: è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—ï¼Œä¾¿äºå¼€å‘è°ƒè¯•
- **å½©è‰²è¾“å‡º**: ç¾è§‚çš„ç•Œé¢å’Œæ¸…æ™°çš„ä¿¡æ¯å±‚çº§

## ğŸ“¦ å®‰è£…

### ç³»ç»Ÿè¦æ±‚
- Go 1.24+ 
- OpenAI API Key

### å¿«é€Ÿå®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/dean2027/aishell.git
cd aishell

# å®‰è£…ä¾èµ–
go mod tidy

# ä½¿ç”¨Makeæ„å»ºï¼ˆæ¨èï¼‰
make build

# æˆ–æ‰‹åŠ¨æ„å»º
go build -o build/aishell ./cmd/aishell

# è¿è¡Œ
./build/aishell
```

## âš™ï¸ é…ç½®

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶ï¼š

```bash
cp env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```bash
# OpenAI API å¯†é’¥ (å¿…éœ€)
export OPENAI_API_KEY="your_openai_api_key_here"

# OpenAI API åŸºç¡€URL (å¯é€‰ï¼Œç”¨äºè‡ªå®šä¹‰ç«¯ç‚¹)
# æ”¯æŒ Azure OpenAIã€ä»£ç†æœåŠ¡ç­‰è‡ªå®šä¹‰ç«¯ç‚¹
export OPENAI_BASE_URL="https://your-resource.openai.azure.com"

# SerpAPI å¯†é’¥ (å¯é€‰ï¼Œç”¨äºç½‘ç»œæœç´¢)
export SERPAPI_API_KEY="your_serpapi_key_here"

# è°ƒè¯•æ¨¡å¼ (å¯é€‰)
export AISHELL_DEBUG="true"
```

åŠ è½½é…ç½®ï¼š

```bash
source .env
```

### é…ç½®å‚æ•°

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `ConversationBufferSize` | 100 | å¯¹è¯è®°å¿†çª—å£å¤§å° |
| `MaxExecutorIterations` | 30 | æœ€å¤§æ¨ç†è¿­ä»£æ¬¡æ•° |
| `AISHELL_DEBUG` | false | è°ƒè¯•æ¨¡å¼å¼€å…³ |
| `OPENAI_BASE_URL` | "" | OpenAI APIè‡ªå®šä¹‰ç«¯ç‚¹ï¼ˆå¯é€‰ï¼‰ |

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```bash
# å¯åŠ¨AI Shell
./aishell

# å¯ç”¨è°ƒè¯•æ¨¡å¼
AISHELL_DEBUG=true ./aishell
```

### ä½¿ç”¨ç¤ºä¾‹

#### ç³»ç»Ÿç®¡ç†
```bash
ğŸ’» æ™ºèƒ½ç»ˆç«¯> å¸®æˆ‘æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯
ğŸ’» æ™ºèƒ½ç»ˆç«¯> æ£€æŸ¥ç£ç›˜ä½¿ç”¨æƒ…å†µ
ğŸ’» æ™ºèƒ½ç»ˆç«¯> å®‰è£…Pythonæœ€æ–°ç‰ˆæœ¬
```

#### æ–‡ä»¶æ“ä½œ
```bash
ğŸ’» æ™ºèƒ½ç»ˆç«¯> è¯»å–main.goçš„å‰50è¡Œ
ğŸ’» æ™ºèƒ½ç»ˆç«¯> åˆ›å»ºä¸€ä¸ªconfig.jsoné…ç½®æ–‡ä»¶
ğŸ’» æ™ºèƒ½ç»ˆç«¯> åœ¨srcç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„Goæ–‡ä»¶
```

#### è®¡ç®—åˆ†æ
```bash
ğŸ’» æ™ºèƒ½ç»ˆç«¯> è®¡ç®— (15 + 25) * 3 / 2
ğŸ’» æ™ºèƒ½ç»ˆç«¯> 1TBç­‰äºå¤šå°‘GB
```

#### ä¿¡æ¯æœç´¢
```bash
ğŸ’» æ™ºèƒ½ç»ˆç«¯> æœç´¢Goè¯­è¨€æœ€ä½³å®è·µ
ğŸ’» æ™ºèƒ½ç»ˆç«¯> æŸ¥æ‰¾Dockerå®¹å™¨ä¼˜åŒ–æ–¹æ¡ˆ
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
aishell/
â”œâ”€â”€ cmd/                    # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ aishell/           
â”‚       â””â”€â”€ main.go         # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ pkg/                    # æ ¸å¿ƒåŒ…
â”‚   â”œâ”€â”€ app/                # åº”ç”¨æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ chatbot.go      # AIèŠå¤©æœºå™¨äºº
â”‚   â”‚   â””â”€â”€ config.go       # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ cli/                # å‘½ä»¤è¡Œäº¤äº’
â”‚   â”‚   â”œâ”€â”€ runner.go       # ä¸»è¿è¡Œå™¨
â”‚   â”‚   â””â”€â”€ input.go        # è¾“å…¥å¤„ç†
â”‚   â”œâ”€â”€ ui/                 # ç”¨æˆ·ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ welcome.go      # æ¬¢è¿ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ completer.go    # è‡ªåŠ¨è¡¥å…¨
â”‚   â”‚   â””â”€â”€ history.go      # å†å²ç®¡ç†
â”‚   â”œâ”€â”€ tools/              # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ file_reader.go      # æ–‡ä»¶è¯»å–å·¥å…·
â”‚   â”‚   â”œâ”€â”€ file_writer.go      # æ–‡ä»¶å†™å…¥å·¥å…·
â”‚   â”‚   â”œâ”€â”€ system_command.go   # ç³»ç»Ÿå‘½ä»¤å·¥å…·
â”‚   â”‚   â””â”€â”€ *_test.go           # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ prompt/             # ç³»ç»Ÿæç¤ºæ¨¡å—
â”‚   â”‚   â””â”€â”€ system_prompt.go
â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ environment.go      # ç¯å¢ƒä¿¡æ¯
â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build.sh            # æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ install.sh          # å®‰è£…è„šæœ¬
â”œâ”€â”€ build/                  # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ go.mod                  # Goæ¨¡å—å®šä¹‰
â”œâ”€â”€ go.sum                  # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ Makefile                # Makeæ„å»ºé…ç½®
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ env.example             # ç¯å¢ƒé…ç½®æ¨¡æ¿
â”œâ”€â”€ LICENSE                 # MITè®¸å¯è¯
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”§ å¼€å‘

### æœ¬åœ°å¼€å‘

```bash
# ä½¿ç”¨Makeè¿›è¡Œå¼€å‘
make dev          # å¼€å‘æ¨¡å¼æ„å»º
make test         # è¿è¡Œæµ‹è¯•
make test-cover   # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make fmt          # æ ¼å¼åŒ–ä»£ç 
make vet          # é™æ€æ£€æŸ¥
make lint         # ä»£ç æ£€æŸ¥

# æˆ–ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼
go test ./...
go fmt ./...
go vet ./...
go build -o build/aishell ./cmd/aishell
```

### ä½¿ç”¨æ„å»ºè„šæœ¬

```bash
# ä½¿ç”¨æ„å»ºè„šæœ¬
./scripts/build.sh              # æ ‡å‡†æ„å»º
./scripts/build.sh --dev        # å¼€å‘æ¨¡å¼æ„å»º
./scripts/build.sh --release    # å‘å¸ƒæ¨¡å¼æ„å»º
./scripts/build.sh --help       # æŸ¥çœ‹æ‰€æœ‰é€‰é¡¹

# ä½¿ç”¨å®‰è£…è„šæœ¬
./scripts/install.sh            # å®‰è£…åˆ°ç³»ç»Ÿç›®å½•
./scripts/install.sh --user     # å®‰è£…åˆ°ç”¨æˆ·ç›®å½•
./scripts/install.sh --help     # æŸ¥çœ‹æ‰€æœ‰é€‰é¡¹
```

### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `pkg/tools/` ç›®å½•åˆ›å»ºæ–°å·¥å…·æ–‡ä»¶
2. å®ç° `tools.Tool` æ¥å£ï¼š
   ```go
   type Tool interface {
       Name() string
       Description() string
       Call(ctx context.Context, input string) (string, error)
   }
   ```
3. åœ¨ `main.go` ä¸­æ³¨å†Œæ–°å·¥å…·
4. æ·»åŠ ç›¸åº”çš„å•å…ƒæµ‹è¯•

### æµ‹è¯•è¦†ç›–ç‡

```bash
# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out -o coverage.html
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª Go å®˜æ–¹ä»£ç è§„èŒƒ
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- ä¿æŒæµ‹è¯•è¦†ç›–ç‡åœ¨90%ä»¥ä¸Š

## ğŸ› é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

**Q: æç¤º "åˆå§‹åŒ–LLMå¤±è´¥"**
A: è¯·æ£€æŸ¥ `OPENAI_API_KEY` ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®

**Q: å¦‚ä½•ä½¿ç”¨ Azure OpenAI æˆ–å…¶ä»–è‡ªå®šä¹‰ç«¯ç‚¹ï¼Ÿ**
A: è®¾ç½® `OPENAI_BASE_URL` ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ï¼š
```bash
export OPENAI_BASE_URL="https://your-resource.openai.azure.com"
export OPENAI_API_KEY="your-azure-api-key"
```

**Q: æœç´¢åŠŸèƒ½ä¸å¯ç”¨**
A: éœ€è¦è®¾ç½® `SERPAPI_API_KEY` ç¯å¢ƒå˜é‡å¯ç”¨æœç´¢åŠŸèƒ½

**Q: å‘½ä»¤æ‰§è¡Œæƒé™é—®é¢˜**
A: å±é™©å‘½ä»¤ä¼šæç¤ºç¡®è®¤ï¼Œè¾“å…¥ `y` ç¡®è®¤æ‰§è¡Œ

**Q: æ–‡ä»¶å†™å…¥å¤±è´¥**
A: æ£€æŸ¥ç›®å½•æƒé™ï¼Œæˆ–è®¾ç½® `create_dirs: true` è‡ªåŠ¨åˆ›å»ºç›®å½•

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è°ƒè¯•æ¨¡å¼æŸ¥çœ‹è¯¦ç»†æ‰§è¡Œæ—¥å¿—ï¼š

```bash
AISHELL_DEBUG=true ./aishell
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ™ è‡´è°¢

- [LangChain Go](https://github.com/tmc/langchaingo) - å¼ºå¤§çš„LLMæ¡†æ¶
- [OpenAI](https://openai.com/) - GPTæ¨¡å‹æ”¯æŒ
- [Readline](https://github.com/chzyer/readline) - äº¤äº’å¼å‘½ä»¤è¡Œ
- [Color](https://github.com/fatih/color) - å½©è‰²ç»ˆç«¯è¾“å‡º

## ğŸ“ è”ç³»

- é¡¹ç›®åœ°å€: https://github.com/dean2027/aishell
- é—®é¢˜åé¦ˆ: [GitHub Issues](https://github.com/dean2027/aishell/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªæ˜Ÿæ˜Ÿæ”¯æŒï¼